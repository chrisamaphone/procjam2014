Query (*, *, *, 1) init -o {loc_o cloak_of_darkness #WhereCloak * (score alice #AliceScore * score bob #BobScore)}.
Solution: \X1. {
    let {[X2, [X3, [X4, [X5, [X6, [X7, X8]]]]]]} = X1 in 
    let {[X9, X10]} = greet !bob !alice !foyer [X3, X2] in 
    let {X11} = move !bob !foyer !cloakroom [X9, -2] in 
    let {X12} = move !alice !foyer !cloakroom [X10, adj/sym !(adj/sym !-2)] in 
    let {[X13, [X14, X15]]} = drop_cloak !alice [X12, [X7, X8]] in 
    let {[X16, X17]} = greet !bob !alice !cloakroom [X11, X13] in 
    let {[X18, X19]} = comment_on_location !alice !bob !cloakroom [X17, X16] in 
    let {X20} = observe_cloakroom !bob X19 in 
    let {X21} = observe_cloakroom !alice X18 in 
    let {X22} = observe_cloakroom !alice X21 in 
    let {X23} = move !bob !cloakroom !foyer [X20, adj/sym !(adj/sym !(adj/sym !-2))] in 
    let {[X24, [X25, X26]]} = pickup_cloak !alice [X22, [X15, X14]] in 
    let {X27} = move !alice !cloakroom !bar [X24, adj/sym !(adj/sym !(adj/sym !-1))] in 
    let {X28} = move !bob !foyer !cloakroom [X23, -2] in 
    let {X29} = observe_cloakroom !bob X28 in 
    let {[X30, [X31, X32]]} = look !alice [X27, [X26, X5]] in 
    let {X33} = observe_cloakroom !bob X29 in 
    let {X34} = move !bob !cloakroom !foyer [X33, adj/sym !-2] in 
    let {X35} = observe_foyer !bob X34 in 
    let {X36} = move !alice !bar !foyer [X30, adj/sym !(adj/sym !-)] in 
    let {[X37, [X38, X39]]} = observe_with !bob !alice !foyer !cloak_of_darkness [X35, [X36, X25]] in 
    let {[X40, [X41, X42]]} = observe_with !bob !alice !foyer !cloak_of_darkness [X37, [X38, X39]] in 
    let {[X43, [X44, X45]]} = observe_with !bob !alice !foyer !cloak_of_darkness [X40, [X41, X42]] in 
    let {[X46, X47]} = comment_on_location !bob !alice !foyer [X43, X44] in 
    let {X48} = move !bob !foyer !cloakroom [X46, -2] in 
    let {X49} = observe_cloakroom !bob X48 in 
    let {X50} = observe_foyer !alice X47 in 
    let {X51} = move !alice !foyer !bar [X50, adj/sym !-] in 
    let {X52} = observe_cloakroom !bob X49 in 
    let {X53} = observe_cloakroom !bob X52 in 
    let {[X54, [X55, X56]]} = look !alice [X51, [X31, X32]] in 
    let {X57} = observe_cloakroom !bob X53 in 
    let {[X58, [X59, X60]]} = look !alice [X54, [X55, X56]] in 
    let {[X61, [X62, X63]]} = look !alice [X58, [X59, X60]] in 
    let {X64} = move !alice !bar !cloakroom [X61, adj/sym !(adj/sym !-1)] in 
    let {[X65, X66]} = comment_on_location !bob !alice !cloakroom [X57, X64] in 
    let {[X67, [X68, X69]]} = hang_cloak !alice [X66, [X45, X62]] in 
    let {X70} = observe_cloakroom !alice X67 in 
    let {[X71, X72]} = greet !alice !bob !cloakroom [X70, X65] in 
    let {[X73, [X74, X75]]} = unhang_cloak !bob [X72, [X69, X4]] in 
    let {[X76, [X77, X78]]} = observe_with !alice !bob !cloakroom !cloak_of_darkness [X71, [X73, X75]] in 
    let {X79} = move !bob !cloakroom !bar [X77, adj/sym !-1] in 
    let {X80} = move !bob !bar !cloakroom [X79, -1] in 
    let {[X81, X82]} = greet !alice !bob !cloakroom [X76, X80] in 
    let {[X83, X84]} = greet !alice !bob !cloakroom [X81, X82] in 
    let {X85} = move !alice !cloakroom !foyer [X83, adj/sym !-2] in 
    let {X86} = observe_cloakroom !bob X84 in 
    let {X87} = observe_cloakroom !bob X86 in 
    let {X88} = move !bob !cloakroom !bar [X87, adj/sym !-1] in 
    let {X89} = move !alice !foyer !cloakroom [X85, adj/sym !(adj/sym !(adj/sym !(adj/sym !(adj/sym !(adj/sym !-2)))))] in 
    let {[X90, [X91, X92]]} = look !bob [X88, [X74, X6]] in 
    let {X93} = observe_cloakroom !alice X89 in 
    let {[X94, [X95, X96]]} = look !bob [X90, [X91, X92]] in 
    let {X97} = observe_cloakroom !alice X93 in 
    let {[X98, [X99, X100]]} = look !bob [X94, [X95, X96]] in 
    let {[X101, [X102, X103]]} = look !bob [X98, [X99, X100]] in 
    let {X104} = observe_cloakroom !alice X97 in 
    let {X105} = move !bob !bar !foyer [X101, -] in 
    let {X106} = move !alice !cloakroom !bar [X104, adj/sym !-1] in 
    let {X107} = observe_foyer !bob X105 in 
    let {X108} = look_lose !alice [X106, [X68, [X63, leqs !(leqs !(leqs !leqz))]]] in 
    let {X109} = observe_foyer !bob X107 in 
    let {X110} = move !bob !foyer !cloakroom [X109, -2] in 
    let {X111} = move !bob !cloakroom !foyer [X110, adj/sym !-2] in 
    let {X112} = move !bob !foyer !bar [X111, adj/sym !-] in 
    let {[X113, [X114, X115]]} = look !bob [X112, [X102, X103]] in 
    let {X116} = move !bob !bar !cloakroom [X113, -1] in 
    let {X117} = observe_cloakroom !bob X116 in 
    let {[X118, [X119, X120]]} = hang_cloak !bob [X117, [X78, X114]] in 
    let {[X121, [X122, X123]]} = unhang_cloak !bob [X118, [X120, X119]] in 
    let {[X124, [X125, X126]]} = drop_cloak !bob [X121, [X123, X122]] in 
    let {[X127, [X128, X129]]} = pickup_cloak !bob [X124, [X126, X125]] in 
    let {X130} = move !bob !cloakroom !bar [X127, adj/sym !(adj/sym !(adj/sym !-1))] in 
    let {X131} = move !bob !bar !cloakroom [X130, -1] in 
    let {X132} = move !bob !cloakroom !bar [X131, adj/sym !-1] in 
    let {X133} = move !bob !bar !foyer [X132, adj/sym !(adj/sym !-)] in 
    let {X134} = observe_foyer !bob X133 in 
    let {X135} = observe_foyer !bob X134 in 
    let {X136} = observe_foyer !bob X135 in 
    let {X137} = move !bob !foyer !bar [X136, adj/sym !-] in 
    let {X138} = move !bob !bar !foyer [X137, -] in 
    let {X139} = observe_foyer !bob X138 in 
    let {X140} = move !bob !foyer !bar [X139, adj/sym !(adj/sym !(adj/sym !-))] in 
    let {X141} = move !bob !bar !foyer [X140, -] in 
    let {X142} = observe_foyer !bob X141 in 
    let {X143} = observe_foyer !bob X142 in 
    let {X144} = observe_foyer !bob X143 in 
    let {X145} = observe_foyer !bob X144 in 
    let {X146} = observe_foyer !bob X145 in 
    let {X147} = move !bob !foyer !cloakroom [X146, -2] in 
    let {X148} = move !bob !cloakroom !bar [X147, adj/sym !-1] in 
    let {[X149, [X150, X151]]} = look !bob [X148, [X129, X115]] in 
    let {X152} = move !bob !bar !foyer [X149, adj/sym !(adj/sym !-)] in 
    let {X153} = move !bob !foyer !bar [X152, adj/sym !(adj/sym !(adj/sym !-))] in 
    let {X154} = move !bob !bar !foyer [X153, -] in 
    let {X155} = move !bob !foyer !cloakroom [X154, -2] in 
    let {X156} = move !bob !cloakroom !bar [X155, adj/sym !(adj/sym !(adj/sym !-1))] in 
    let {X157} = move !bob !bar !foyer [X156, -] in 
    let {X158} = move !bob !foyer !bar [X157, adj/sym !-] in 
    let {X159} = move !bob !bar !foyer [X158, -] in 
    let {X160} = observe_foyer !bob X159 in 
    let {X161} = move !bob !foyer !cloakroom [X160, adj/sym !(adj/sym !-2)] in 
    let {X162} = observe_cloakroom !bob X161 in 
    let {X163} = move !bob !cloakroom !bar [X162, adj/sym !(adj/sym !(adj/sym !(adj/sym !(adj/sym !(adj/sym !(adj/sym !-1))))))] in 
    let {[X164, [X165, X166]]} = look !bob [X163, [X150, X151]] in 
    let {[X167, [X168, X169]]} = look !bob [X164, [X165, X166]] in 
    let {X170} = move !bob !bar !foyer [X167, adj/sym !(adj/sym !-)] in 
    let {X171} = observe_foyer !bob X170 in 
    let {X172} = observe_foyer !bob X171 in 
    let {X173} = move !bob !foyer !cloakroom [X172, -2] in 
    let {X174} = move !bob !cloakroom !foyer [X173, adj/sym !(adj/sym !(adj/sym !-2))] in 
    let {X175} = observe_foyer !bob X174 in 
    let {X176} = move !bob !foyer !cloakroom [X175, -2] in 
    let {X177} = move !bob !cloakroom !bar [X176, adj/sym !(adj/sym !(adj/sym !(adj/sym !(adj/sym !-1))))] in 
    let {[X178, [X179, X180]]} = look !bob [X177, [X168, X169]] in 
    let {[X181, [X182, X183]]} = look !bob [X178, [X179, X180]] in 
    let {X184} = move !bob !bar !foyer [X181, -] in 
    let {X185} = observe_foyer !bob X184 in 
    let {X186} = observe_foyer !bob X185 in 
    let {X187} = move !bob !foyer !bar [X186, adj/sym !(adj/sym !(adj/sym !(adj/sym !(adj/sym !-))))] in 
    let {[X188, [X189, X190]]} = look !bob [X187, [X182, X183]] in 
    let {X191} = move !bob !bar !foyer [X188, adj/sym !(adj/sym !-)] in 
    let {X192} = move !bob !foyer !cloakroom [X191, adj/sym !(adj/sym !-2)] in 
    let {[X193, [X194, X195]]} = hang_cloak !bob [X192, [X128, X189]] in 
    let {[X196, [X197, X198]]} = unhang_cloak !bob [X193, [X195, X194]] in 
    let {X199} = move !bob !cloakroom !bar [X196, adj/sym !-1] in 
    let {[X200, [X201, X202]]} = look !bob [X199, [X197, X190]] in 
    let {[X203, [X204, X205]]} = look !bob [X200, [X201, X202]] in 
    let {X206} = move !bob !bar !foyer [X203, -] in 
    let {X207} = move !bob !foyer !bar [X206, adj/sym !-] in 
    let {X208} = move !bob !bar !foyer [X207, adj/sym !(adj/sym !-)] in 
    let {X209} = move !bob !foyer !bar [X208, adj/sym !-] in 
    let {[X210, [X211, X212]]} = look !bob [X209, [X204, X205]] in 
    let {[X213, [X214, X215]]} = look !bob [X210, [X211, X212]] in 
    let {X216} = move !bob !bar !foyer [X213, -] in 
    let {X217} = move !bob !foyer !cloakroom [X216, -2] in 
    let {[X218, [X219, X220]]} = hang_cloak !bob [X217, [X198, X214]] in 
    let {X221} = move !bob !cloakroom !foyer [X218, adj/sym !-2] in 
    let {X222} = observe_foyer !bob X221 in 
    let {X223} = observe_foyer !bob X222 in 
    let {X224} = observe_foyer !bob X223 in 
    let {X225} = observe_foyer !bob X224 in 
    let {X226} = move !bob !foyer !bar [X225, adj/sym !-] in 
    let {X227} = move !bob !bar !cloakroom [X226, -1] in 
    let {[X228, [X229, X230]]} = unhang_cloak !bob [X227, [X220, X219]] in 
    let {X231} = move !bob !cloakroom !foyer [X228, adj/sym !-2] in 
    let {X232} = move !bob !foyer !bar [X231, adj/sym !-] in 
    let {[X233, [X234, X235]]} = look !bob [X232, [X229, X215]] in 
    let {X236} = move !bob !bar !cloakroom [X233, -1] in 
    let {X237} = observe_cloakroom !bob X236 in 
    let {[X238, [X239, X240]]} = drop_cloak !bob [X237, [X230, X234]] in 
    let {X241} = move !bob !cloakroom !bar [X238, adj/sym !(adj/sym !(adj/sym !-1))] in 
    let {X242} = look_lose !bob [X241, [X239, [X235, leqs !(leqs !(leqs !leqz))]]] in [X240, [X108, X242]]}
 #AliceScore = lose !(s !(s !(s !(s !z))))
 #BobScore = lose !(s !(s !(s !(s !(s !(s !(s !(s !(s !(s !(s !(s !(s !(s !(s !(s !z))))))))))))))))
 #WhereCloak = inroom !cloakroom
